---
layout: single
title: "Week 4 Review"
excerpt: "."
authors: ['Leah Wasser']
modified: '`r format(Sys.time(), "%Y-%m-%d")`'
category: [course-materials]
class-lesson: ['hw-custom-legend-r']
permalink: /course-materials/earth-analytics/week-4/week4-review-r/
nav-title: 'Interactive time series plots in R'
module-title: 'Review: Factors in R'
module-description: 'In this module, we will review some key concepts associated with both
time series data and raster data in R. '
module-nav-title: 'Time series data in R & Legends'
module-type: 'homework'
course: "Earth Analytics"
week: 4
sidebar:
  nav:
author_profile: false
comments: true
order: 1
---

{% include toc title="In This Lesson" icon="file-text" %}

<div class='notice--success' markdown="1">

## <i class="fa fa-graduation-cap" aria-hidden="true"></i> Learning Objectives

After completing this tutorial, you will be able to:

*

## <i class="fa fa-check-square-o fa-2" aria-hidden="true"></i> What you need

You will need a computer with internet access to complete this lesson and the data for week 4 of the course.

[<i class="fa fa-download" aria-hidden="true"></i> Download Week 4 Data (~500 MB)](https://ndownloader.figshare.com/files/7525363){:data-proofer-ignore='' .btn }

</div>


# Explore time series Data

First, let's review the challenge question from last week. Note below that we've
loaded the data into R. Do you notice any visual changes in the data over time
that may not be related to actual changes in precipitation?


```{r setup, fig.cap="plot precip data using ggplot"}

# bonus lesson
precip_file <- "data/week2/precipitation/805333-precip-daily-1948-2013.csv"

# import precip data into R data.frame
precip.boulder <- read.csv(precip_file,
                           header = TRUE,
                           na.strings = 999.99)

# convert to date/time and retain as a new field
precip.boulder$DATE <- as.POSIXct(precip.boulder$DATE,
                                  format="%Y%m%d %H:%M")
                                  # date in the format: YearMonthDay Hour:Minute

# double check structure
str(precip.boulder$DATE)

# plot the data using ggplot2
precPlot_hourly <- ggplot(precip.boulder, aes(DATE, HPCP)) +   # the variables of interest
      geom_point(stat="identity") +   # create a bar graph
      xlab("Date") + ylab("Precipitation (Inches)") +  # label the x & y axes
      ggtitle("Hourly Precipitation - Boulder Station\n 1948-2013")  # add a title

precPlot_hourly
```

## Factors

```{r factors}

new_vector <- c("dog", "cat", "mouse","cat", "mouse", "cat", "mouse")
str(new_vector)

new_vector <- factor(new_vector)
str(new_vector)

# set the order
fa_levels <- c("dog", "cat", "mouse")
# reorder factors
new_vector_reordered = factor(new_vector,
           levels = fa_levels)
new_vector_reordered
```
